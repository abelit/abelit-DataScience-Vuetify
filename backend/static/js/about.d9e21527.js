(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{f820:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"about"},[o("h1",[e._v("This is an about page")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:e.bcss,attrs:{placeholder:"edit me",name:"myinput"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),o("span",[e._v(e._s(e.errors.first("myinput")))]),o("p",[e._v("Message is: "+e._s(e.message))]),e.loginUser?o("p",[e._v("UserInfo is: "+e._s(e.loginUser))]):e._e(),o("p",[e._v("Old Token: "+e._s(e.oldtoken))]),o("button",{staticClass:"btn-primary",on:{click:e.getUser}},[e._v("点击此通过token获取用户名")]),e._v(" ||\n  "),o("button",{staticClass:"btn-primary",on:{click:e.logout}},[e._v("退出")]),o("div",[o("h1",[e._v("用户可访问的菜单")]),o("ul",e._l(e.menulst,function(t,s){return o("li",{key:t},[o("router-link",{attrs:{to:t}},[e._v(e._s(s))])],1)}),0)])])},n=[],a={data:function(){return{p_name:"hello",m_name:"abelit",message:"test",bcss:"form-control",mypath:"/",loginUser:"",oldtoken:JSON.parse(localStorage.getItem("token")).access_token||"",menulst:{}}},methods:{logout:function(){this.$store.commit("delToken"),this.$router.push("/user/login"),localStorage.removeItem("routeList")},getUser:function(){var e=this,t=JSON.parse(localStorage.getItem("token")).access_token;this.$axios.get("/protected",{headers:{Authorization:"Bearer "+t}}).then(function(o){console.log(o),e.loginUser=o.data.logged_in_as,e.oldtoken=t}).catch(function(e){console.log(e)})},getMenu:function(){var e=this,t=JSON.parse(localStorage.getItem("token")).access_token;this.$axios.get("/menu",{headers:{Authorization:"Bearer "+t}}).then(function(t){e.menulst=t.data}).catch(function(e){console.log(e)})}},mounted:function(){this.getMenu()}},r=a,i=o("2877"),l=Object(i["a"])(r,s,n,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=about.d9e21527.js.map