{"version":3,"sources":["webpack:///./src/views/About.vue?9aa7","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?b1c2","webpack:///./src/views/About.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","class","bcss","attrs","placeholder","domProps","on","input","$event","target","composing","message","_s","errors","first","loginUser","_e","oldtoken","click","getUser","logout","_l","k","v","key","to","staticRenderFns","Aboutvue_type_script_lang_js_","data","p_name","m_name","mypath","JSON","parse","localStorage","getItem","access_token","menulst","methods","$store","commit","$router","push","removeItem","_this","token","$axios","get","headers","Authorization","then","res","console","log","logged_in_as","catch","error","getMenu","_this2","mounted","views_Aboutvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"8GAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAoB,CAAAF,EAAA,MAAAJ,EAAAO,GAAA,2BAAAH,EAAA,SAAyDI,WAAA,EAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAX,EAAA,QAAAY,WAAA,WAAwE,CAAEH,KAAA,WAAAC,QAAA,aAAAC,MAAA,WAAAC,WAAA,eAAgFC,MAAAb,EAAAc,KAAAC,MAAA,CAAwBC,YAAA,UAAAP,KAAA,WAAyCQ,SAAA,CAAWN,MAAAX,EAAA,SAAsBkB,GAAA,CAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCtB,EAAAuB,QAAAH,EAAAC,OAAAV,WAAkCP,EAAA,QAAAJ,EAAAO,GAAAP,EAAAwB,GAAAxB,EAAAyB,OAAAC,MAAA,eAAAtB,EAAA,KAAAJ,EAAAO,GAAA,eAAAP,EAAAwB,GAAAxB,EAAAuB,YAAAvB,EAAA,UAAAI,EAAA,KAAAJ,EAAAO,GAAA,gBAAAP,EAAAwB,GAAAxB,EAAA2B,cAAA3B,EAAA4B,KAAAxB,EAAA,KAAAJ,EAAAO,GAAA,cAAAP,EAAAwB,GAAAxB,EAAA6B,aAAAzB,EAAA,UAAmQE,YAAA,cAAAY,GAAA,CAA8BY,MAAA9B,EAAA+B,UAAqB,CAAA/B,EAAAO,GAAA,qBAAAP,EAAAO,GAAA,WAAAH,EAAA,UAA6DE,YAAA,cAAAY,GAAA,CAA8BY,MAAA9B,EAAAgC,SAAoB,CAAAhC,EAAAO,GAAA,QAAAH,EAAA,OAAAA,EAAA,MAAAJ,EAAAO,GAAA,cAAAH,EAAA,KAAAJ,EAAAiC,GAAAjC,EAAA,iBAAAkC,EAAAC,GAAoG,OAAA/B,EAAA,MAAgBgC,IAAAF,GAAM,CAAA9B,EAAA,eAAoBW,MAAA,CAAOsB,GAAAH,IAAQ,CAAAlC,EAAAO,GAAAP,EAAAwB,GAAAW,OAAA,KAA0B,QACloCG,EAAA,GC4BAC,EAAA,CACAC,KADA,WAEA,OACAC,OAAA,QACAC,OAAA,SACAnB,QAAA,OACAT,KAAA,eACA6B,OAAA,IACAhB,UAAA,GACAE,SAAAe,KAAAC,MAAAC,aAAAC,QAAA,UAAAC,cAAA,GACAC,QAAA,KAGAC,QAAA,CACAlB,OADA,WAEA/B,KAAAkD,OAAAC,OAAA,YACAnD,KAAAoD,QAAAC,KAAA,eACAR,aAAAS,WAAA,cAEAxB,QANA,WAMA,IAAAyB,EAAAvD,KAEAwD,EAAAb,KAAAC,MAAAC,aAAAC,QAAA,UAAAC,aAEA/C,KAAAyD,OACAC,IAAA,cAAAC,QAAA,CAAAC,cAAA,UAAAJ,KACAK,KAAA,SAAAC,GAEAC,QAAAC,IAAAF,GACAP,EAAA7B,UAAAoC,EAAAvB,KAAA0B,aACAV,EAAA3B,SAAA4B,IAEAU,MAAA,SAAAC,GACAJ,QAAAC,IAAAG,MAGAC,QAtBA,WAsBA,IAAAC,EAAArE,KACAwD,EAAAb,KAAAC,MAAAC,aAAAC,QAAA,UAAAC,aACA/C,KAAAyD,OACAC,IAAA,SAAAC,QAAA,CAAAC,cAAA,UAAAJ,KACAK,KAAA,SAAAC,GAEAO,EAAArB,QAAAc,EAAAvB,OAEA2B,MAAA,SAAAC,GACAJ,QAAAC,IAAAG,OAIAG,QAhDA,WAiDAtE,KAAAoE,YC9E+XG,EAAA,cCO/XC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAzE,EACAuC,GACF,EACA,KACA,KACA,MAIesC,EAAA,WAAAH","file":"static/js/about.92f4320d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"This is an about page\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],class:_vm.bcss,attrs:{\"placeholder\":\"edit me\",\"name\":\"myinput\"},domProps:{\"value\":(_vm.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}}),_c('span',[_vm._v(_vm._s(_vm.errors.first('myinput')))]),_c('p',[_vm._v(\"Message is: \"+_vm._s(_vm.message))]),(_vm.loginUser)?_c('p',[_vm._v(\"UserInfo is: \"+_vm._s(_vm.loginUser))]):_vm._e(),_c('p',[_vm._v(\"Old Token: \"+_vm._s(_vm.oldtoken))]),_c('button',{staticClass:\"btn-primary\",on:{\"click\":_vm.getUser}},[_vm._v(\"点击此通过token获取用户名\")]),_vm._v(\" ||\\n  \"),_c('button',{staticClass:\"btn-primary\",on:{\"click\":_vm.logout}},[_vm._v(\"退出\")]),_c('div',[_c('h1',[_vm._v(\"用户可访问的菜单\")]),_c('ul',_vm._l((_vm.menulst),function(k,v){return _c('li',{key:k},[_c('router-link',{attrs:{\"to\":k}},[_vm._v(_vm._s(v))])],1)}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"about\">\r\n    <h1>This is an about page</h1>\r\n    <input\r\n      v-model=\"message\"\r\n      placeholder=\"edit me\"\r\n      :class=\"bcss\"\r\n      v-validate=\"'required'\"\r\n      name=\"myinput\"\r\n    >\r\n    <span>{{ errors.first('myinput') }}</span>\r\n    <p>Message is: {{ message }}</p>\r\n    <p v-if=\"loginUser\">UserInfo is: {{loginUser}}</p>\r\n    <p>Old Token: {{oldtoken}}</p>\r\n    <button class=\"btn-primary\" @click=\"getUser\">点击此通过token获取用户名</button> ||\r\n    <button class=\"btn-primary\" @click=\"logout\">退出</button>\r\n    <div>\r\n      <h1>用户可访问的菜单</h1>\r\n      <ul>\r\n        <li v-for=\"(k,v) in menulst\" v-bind:key=\"k\">\r\n          <router-link :to=\"k\">{{v}}</router-link>\r\n        </li>\r\n      </ul>\r\n      <!-- <button class=\"btn-primary\" @click=\"getMenu\">点击查看可访问的菜单</button> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      p_name: \"hello\",\r\n      m_name: \"abelit\",\r\n      message: \"test\",\r\n      bcss: \"form-control\",\r\n      mypath: process.env.BASE_URL,\r\n      loginUser: \"\",\r\n      oldtoken: JSON.parse(localStorage.getItem(\"token\")).access_token || \"\",\r\n      menulst: {}\r\n    };\r\n  },\r\n  methods: {\r\n    logout() {\r\n      this.$store.commit(\"delToken\");\r\n      this.$router.push(\"/user/login\");\r\n      localStorage.removeItem(\"routeList\");\r\n    },\r\n    getUser() {\r\n      // let token = JSON.parse(localStorage.token).access_token\r\n      let token = JSON.parse(localStorage.getItem(\"token\")).access_token;\r\n\r\n      this.$axios\r\n        .get(\"/protected\", { headers: { Authorization: \"Bearer \" + token } })\r\n        .then(res => {\r\n          // 通过token获取用户名称\r\n          console.log(res);\r\n          this.loginUser = res.data.logged_in_as;\r\n          this.oldtoken = token;\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getMenu() {\r\n      let token = JSON.parse(localStorage.getItem(\"token\")).access_token;\r\n      this.$axios\r\n        .get(\"/menu\", { headers: { Authorization: \"Bearer \" + token } })\r\n        .then(res => {\r\n          // console.log(res.data);\r\n          this.menulst = res.data;\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getMenu();  }\r\n};\r\n</script>\r\n\r\n<style media=\"screen\">\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=f6681ce0&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}